{% extends 'eshop/base.html' %}
{% load static %}
{% block title %}
{{ product.title }}
{% endblock %}

{% block style %}
.choice-title label {
color: #00661a;
border-radius: 8px;
border: 1px solid #00661a;
cursor: pointer;
display: inline-block;
}

.choice-title input[type=radio] {
display: none;
transition: all 200ms ease-out;
}

.choice-title input[type=radio]:hover+label {
opacity: 0.8;
border: 1px solid #00661a;
color: #00661a;
}

.choice-title input[type=radio]:checked+label {
background-color: #00661a;
color: white;
}
.carousel-control-next-icon,
.carousel-control-prev-icon {
display: none;
}

.carousel .carousel-indicators li {
width: 1rem !important;
height: 1px !important;
}


{% endblock %}

{% block body %}

<div class="container my-3">
    <div class="row">
        <div class="col-md-6">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                    {% for item in range %}
                    <li data-target="#carouselExampleIndicators" data-slide-to="{{ item }}"></li>
                    {% endfor %}
                </ol>
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="d-block w-100" src="{{ product.image.url }}" alt="First slide">
                    </div>
                    {% for item in images %}
                    <div class="carousel-item">
                        <img class="d-block w-100" src="{{ item.image.url }}" alt="Second slide">
                    </div>
                    {% endfor %}
                </div>
                {% if images.count %}
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
                {% endif %}
            </div>
        </div>
        <div class="col-md-6">
            <br>
            <h4 class="text-success my-0 py-0"><strong>{{ product.brand_name }}</strong></h4>
            <p class="my-0 py-0">{{ product.title }}</p>
            <img style="width: 150px;"
                src="https://previews.123rf.com/images/niserin/niserin1110/niserin111000128/10859155-barcelona-spain-at-summer-very-wide-high-quality-panorama.jpg"
                alt="">
            <h3><strong> Rs. {{ product.price }}</strong> <strike class="p small">Rs.
                    {{ product.prevprice }}</strike><span class="small ml-3 text-muted">{{ product.offer|floatformat }}%
                    off</span></h3>
            {% if product.amount < product.minamount %}
            <p>Hurry! only a few left.</p>
            {% endif %}
            <!-- <p>Will be shipped in <strong>3</strong> Days</p> -->
            <p class="m-2"><strong>Size</strong></p>
            <div class="row p-0 m-0">

                <button class="bg-light text-dark p-2 m-2 rounded border" href=""><strong>S</strong> </button>
                <button class="bg-light text-dark p-2 m-2 rounded border" href=""><strong>M</strong> </button>
                <button class="bg-light text-dark p-2 m-2 rounded border" href=""><strong>L</strong> </button>
                <button class="bg-light text-dark p-2 m-2 rounded border" href=""><strong>XL</strong> </button>
                <button class="bg-light text-dark p-2 m-2 rounded border" href=""><strong>XXL</strong> </button>

            </div>
            <p class="m-2"><strong>Product description</strong></p>
            <p class="m-2">{{ product.description }}</p>
            <p class="m-2"><strong>Rating</strong></p>
            
            <div class="product-rating">
                <i class="fa fa-star{% if product.avaregereview < 1 %}-o empty{% endif %}"></i>
                <i class="fa fa-star{% if product.avaregereview < 2 %}-o empty{% endif %}"></i>
                <i class="fa fa-star{% if product.avaregereview < 3 %}-o empty{% endif %}"></i>
                <i class="fa fa-star{% if product.avaregereview < 4 %}-o empty{% endif %}"></i>
                <i class="fa fa-star{% if product.avaregereview < 5 %}-o empty{% endif %}"></i>
                {{ product.avaregereview|stringformat:".2f"}} | {{ product.countreview }} review{% if product.countreview > 1 %}s{% endif %}
            </div>

            <p class="m-2"><strong>Rate this product</strong></p>
            {% if user.id is not None %}
            <form class="review-form" action="{% url 'addReview' product.id %}" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <div class="input-rating">
                        <strong class="mx-2 text-uppercase">Your Rating: </strong>
                        <div class="choice-title mx-2">
                            <input type="radio" name="rate" value="1" id="rating-1"><label class="px-2 py-1"
                                for="rating-1"><i class="fa fa-star" aria-hidden="true"></i></label>
                            <input type="radio" name="rate" value="2" id="rating-2"><label class="px-2 py-1"
                                for="rating-2"><i class="fa fa-star" aria-hidden="true"></i></label>
                            <input type="radio" name="rate" value="3" id="rating-3"><label class="px-2 py-1"
                                for="rating-3"><i class="fa fa-star" aria-hidden="true"></i></label>
                            <input type="radio" name="rate" value="4" id="rating-4"><label class="px-2 py-1"
                                for="rating-4"><i class="fa fa-star" aria-hidden="true"></i></label>
                            <input type="radio" name="rate" value="5" id="rating-5"><label class="px-2 py-1"
                                for="rating-5"><i class="fa fa-star" aria-hidden="true"></i></label>
                        </div>
                    </div>
                </div>
                <button class="btn btn-sm btn-primary">Submit</button>
            </form>
            {% else %}
            You must be logged in to post a review
            {% endif %}
            <br>
            <form action="/order/addtoshopcart/{{ product.id }}" method="post"> {% csrf_token %}
                <b>Quantity: </b><input style="width: 10%;" class="input mx-1 text-center" name="quantity" type="number"
                    value="1" min="1" max="{{ product.amount }}">
                <div class="row p-0">
                    <div class="col-6">
                        <button type="submit" class="my-2 w-100 text-light bg-dark p-3 px-3 mx-0 rounded m-1"
                            style="border: none">Add to cart</button>
                    </div>
                    <div class="col-6">
                        <button class="my-2 w-100 rounded ml-0 py-3 text-white m-1"
                            style="border: none;background: red;">wishlist</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<br>
<br>
<br>
<div class="container">
    <h4><strong>See our other Products</strong></h4>
</div>
<div class="container">
    <div class="row">
        <!--Loop starts here-->
        <div class="col-6 mx-0 px-1 ">
            <a href="">
                <div class="w-100 rounded">
                    <img class="w-100 rounded" id="listimg"
                        src="https://images.unsplash.com/photo-1548378329-437e1ef34263?ixid=MXwxMjA3fDB8MHxzZWFyY2h8Mnx8ZWxlY3Ryb25pY3N8ZW58MHwxfDB8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"
                        alt="">
                    <div class="px-2 pt-2 ">
                        <div>
                            <h6 class="my-0 py-0 text-success"><Strong>BRAND</Strong></h6>
                            <p class="w-100 text-dark small mb-0 pb-0">Product Name can be long</p>
                            <a class="small disabled text-dark h4 mr-1 mt-0 pt-0" href="" style="font-weight: 700;">Rs.
                                299</a>
                            <a class="small disabled text-dark mt-0 pt-0" href=""><strike>Rs. 500</strike></a>
                            <a class=" disabled text-dark mt-0 pt-0 ml-2" href="">3.4 <span
                                    class="fa fa-star text-warning"></span></a>

                        </div>
                        <button class="my-2 w-md-100 text-light bg-dark p-1 px-3 mx-0 rounded"
                            style="border: none">Buy</button>
                        <button class="my-2 rounded-circle ml-1"
                            style="border: none;height: 32px !important;width: 32px;background: red;object-fit: cover;object-position: center;"><i
                                class="far fa-heart text-white"></i></button>
                    </div>
                </div>
            </a>
            <br>
        </div>
        <!--Loop ends here-->

    </div>
</div>
{% endblock %}